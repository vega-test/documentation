---
id: submit-json-rpc-request-to-wallet-api
title: "Submit JSON-RPC request to wallet API"
sidebar_label: "Submit JSON-RPC request to wallet API"
hide_title: true
hide_table_of_contents: true
api: {"description":"This endpoint is the main entry point to submit JSON-RPC requests. The body of the HTTP request should be formatted as a JSON-RPC v2 request. The HTTP response is formatted as the JSON-RPC v2 response.\n\nThe `ID` should be specified. See [the JSON-RPC notification documentation](https://www.jsonrpc.org/specification#notification) for more details.\n\n# Content type\nThis endpoint returns a response with a specific `Content-Type` header: `application/json-rpc`.\n\nThis content type is used to help third-party applications differentiate the different JSON formats returned by the service. \n\nNote that `application/json-rpc` is not a standard HTTP content type.\n\n# Authentication\n\n## Workflow\nWhen connecting to a wallet, a connection token will be received back through the `Authorisation` header.\n\nWhen accessing protected JSON-RPC methods, the connection token must be set to the `Authorisation` header. If the connection token is not valid, the server returns a response with the HTTP code 401, and the `WWW-Authenticate` header set to `VWT` as required by the HTTP standards.\n\n### Community implementation of the wallet service\nPeople might be willing to implement their own wallet service with their own authentication system. It's recommended that any community implementations follow the same workflow.\n\nThis will save third-party applications from having to _explicitly_ support different authentication schemes, and make the community implementations fully interoperable with all third-party applications, out of the box.\n\n### Token format\n\n\nThe token will be formatted as follows:\n`VWT \\<YOUR_TOKEN\\>`\n\n`VWT` scheme stands for \"Vega Wallet Token\" and is not a standard authorisation scheme.\n\n`YOUR_TOKEN` is a randomly generated string of 64 characters with numbers and letters. Each session generates a unique one.\n\n# Request\nSee the [OpenRPC documentation of the wallet](https://docs.vega.xyz) for more details.","tags":["Wallet"],"parameters":[{"in":"header","name":"Origin","description":"The origin of the request. If this header is missing, the request will be rejected as an unauthorized request (401 Unauthorized).","required":true,"schema":{"type":"string"}},{"in":"header","name":"Authorization","description":"The token used to access the protected methods. The format is `VWT YOUR_TOKEN`. VWT is a non-standard scheme that stands for Vega Wallet Token. If this header is missing when accessing protected methods, the request will be rejected as an unauthorized request (401 Unauthorized).","schema":{"type":"string"},"examples":{"test":{"value":"VWT stuTxgheMY8RZyISS9voyLjXHBaQFS7DRqDyXCM7Xx6rcj8zP84U1XNAIhf8110S"}}}],"requestBody":{"description":"The JSON-RPC v2 request","content":{"application/json-rpc":{"schema":{"type":"object","description":"This request payload is used to query the JSON-RPC API. See [the JSON-RPC request documentation](https://www.jsonrpc.org/specification#request_object) for more details.","properties":{"jsonrpc":{"required":true,"type":"string","enum":["2.0"]},"method":{"required":true,"type":"string"},"params":{"type":"object"},"id":{"description":"According to the JSON-RPC v2 standard, if the ID is not specified, an empty response should be returned, whatever the state is (success or error). In the Vega implementation, this empty response corresponds to `204 No content`.","type":"string"}},"title":"JsonRpcRequest"}}},"required":true},"responses":{"200":{"description":"The request is successful. On this endpoint, only this type of response format should be expected.","content":{"application/json-rpc":{"schema":{"type":"object","description":"This payload is returned by the JSON-RPC API sitting behind the `/v2/requests` endpoint. See [the JSON-RPC response documentation](https://www.jsonrpc.org/specification#response_object) for more details.","properties":{"jsonrpc":{"type":"string","required":true,"enum":["2.0"]},"result":{"type":"object"},"errors":{"type":"object","properties":{"code":{"type":"number"},"message":{"type":"string"},"data":{"type":"string"}}},"id":{"type":"string"}},"title":"JsonRpcResponse"}}}},"204":{"description":"This response is returned when there is no `id` property valued in the JSON-RPC request. Concretely, when a JSON-RPC request doesn't have an ID, it is considered a JSON-RPC notification and, as such, no result is to be expected, even in case of failure."},"400":{"description":"Something went wrong","content":{"application/json-rpc":{"schema":{"type":"object","description":"This payload is returned when an error occurs at the JSON-RPC API level. See [the JSON-RPC response documentation](https://www.jsonrpc.org/specification#response_object) for more details.","properties":{"jsonrpc":{"type":"string","required":true,"enum":["2.0"]},"errors":{"type":"object","properties":{"code":{"type":"number"},"message":{"type":"string"},"data":{"type":"string"}}},"id":{"type":"string"}}}}}},"401":{"description":"This error code is returned when the authentication failed."},"500":{"description":"Something failed internally. Nothing can be done about it on the client side. Reporting the issue to the wallet software developers is encouraged."}},"method":"post","path":"/v2/requests","servers":[{"url":"http://localhost:1789/api/","description":"Local wallet"}],"info":{"title":"Wallet API","description":"The version 2 of the wallet HTTP API leverages the wallet JSON-RPC API.\n\n## Workflow\n1. Use `GET /v2/methods` to ensure the JSON-RPC API exposes all the methods your application requires.\n\n2. Use `POST /v2/requests` endpoint to submit requests to the JSON-RPC API.\n## Useful links\n- [JSON-RPC 2.0 Specification](https://www.jsonrpc.org/specification)","version":"2.0.0"},"postman":{"name":"Submit JSON-RPC request to wallet API","description":{"content":"This endpoint is the main entry point to submit JSON-RPC requests. The body of the HTTP request should be formatted as a JSON-RPC v2 request. The HTTP response is formatted as the JSON-RPC v2 response.\n\nThe `ID` should be specified. See [the JSON-RPC notification documentation](https://www.jsonrpc.org/specification#notification) for more details.\n\n# Content type\nThis endpoint returns a response with a specific `Content-Type` header: `application/json-rpc`.\n\nThis content type is used to help third-party applications differentiate the different JSON formats returned by the service. \n\nNote that `application/json-rpc` is not a standard HTTP content type.\n\n# Authentication\n\n## Workflow\nWhen connecting to a wallet, a connection token will be received back through the `Authorisation` header.\n\nWhen accessing protected JSON-RPC methods, the connection token must be set to the `Authorisation` header. If the connection token is not valid, the server returns a response with the HTTP code 401, and the `WWW-Authenticate` header set to `VWT` as required by the HTTP standards.\n\n### Community implementation of the wallet service\nPeople might be willing to implement their own wallet service with their own authentication system. It's recommended that any community implementations follow the same workflow.\n\nThis will save third-party applications from having to _explicitly_ support different authentication schemes, and make the community implementations fully interoperable with all third-party applications, out of the box.\n\n### Token format\n\n\nThe token will be formatted as follows:\n`VWT \\<YOUR_TOKEN\\>`\n\n`VWT` scheme stands for \"Vega Wallet Token\" and is not a standard authorisation scheme.\n\n`YOUR_TOKEN` is a randomly generated string of 64 characters with numbers and letters. Each session generates a unique one.\n\n# Request\nSee the [OpenRPC documentation of the wallet](https://docs.vega.xyz) for more details.","type":"text/plain"},"url":{"path":["v2","requests"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"disabled":false,"description":{"content":"(Required) The origin of the request. If this header is missing, the request will be rejected as an unauthorized request (401 Unauthorized).","type":"text/plain"},"key":"Origin","value":""},{"key":"Content-Type","value":"application/json-rpc"},{"key":"Accept","value":"application/json-rpc"}],"method":"POST","body":{"mode":"raw","raw":"\"\""}}}
sidebar_class_name: "post api-method"
info_path: api/vega-wallet/reference/local-service/wallet-api
custom_edit_url: "https://github.com/vegaprotocol/documentation/issues/new?labels=documentation&title=[Documentation] Requesting changes to 'Submit JSON-RPC request to wallet API' (submit-json-rpc-request-to-wallet-api)"
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Submit JSON-RPC request to wallet API



This endpoint is the main entry point to submit JSON-RPC requests. The body of the HTTP request should be formatted as a JSON-RPC v2 request. The HTTP response is formatted as the JSON-RPC v2 response.

The `ID` should be specified. See [the JSON-RPC notification documentation](https://www.jsonrpc.org/specification#notification) for more details.

# Content type
This endpoint returns a response with a specific `Content-Type` header: `application/json-rpc`.

This content type is used to help third-party applications differentiate the different JSON formats returned by the service. 

Note that `application/json-rpc` is not a standard HTTP content type.

# Authentication

## Workflow
When connecting to a wallet, a connection token will be received back through the `Authorisation` header.

When accessing protected JSON-RPC methods, the connection token must be set to the `Authorisation` header. If the connection token is not valid, the server returns a response with the HTTP code 401, and the `WWW-Authenticate` header set to `VWT` as required by the HTTP standards.

### Community implementation of the wallet service
People might be willing to implement their own wallet service with their own authentication system. It's recommended that any community implementations follow the same workflow.

This will save third-party applications from having to _explicitly_ support different authentication schemes, and make the community implementations fully interoperable with all third-party applications, out of the box.

### Token format


The token will be formatted as follows:
`VWT \<YOUR_TOKEN\>`

`VWT` scheme stands for "Vega Wallet Token" and is not a standard authorisation scheme.

`YOUR_TOKEN` is a randomly generated string of 64 characters with numbers and letters. Each session generates a unique one.

# Request
See the [OpenRPC documentation of the wallet](https://docs.vega.xyz) for more details.

<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Header Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"header","name":"Origin","description":"The origin of the request. If this header is missing, the request will be rejected as an unauthorized request (401 Unauthorized).","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"in":"header","name":"Authorization","description":"The token used to access the protected methods. The format is `VWT YOUR_TOKEN`. VWT is a non-standard scheme that stands for Vega Wallet Token. If this header is missing when accessing protected methods, the request will be rejected as an unauthorized request (401 Unauthorized).","schema":{"type":"string"},"examples":{"test":{"value":"VWT stuTxgheMY8RZyISS9voyLjXHBaQFS7DRqDyXCM7Xx6rcj8zP84U1XNAIhf8110S"}}}}></ParamsItem></ul></div></details><MimeTabs><TabItem label={"application/json-rpc"} value={"application/json-rpc-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}><div style={{"marginTop":"1rem","marginBottom":"1rem"}}>

The JSON-RPC v2 request

</div></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"jsonrpc"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`2.0`]"} schema={{"required":true,"type":"string","enum":["2.0"]}}></SchemaItem><SchemaItem collapsible={false} name={"method"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"required":true,"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"params"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object"}}></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"According to the JSON-RPC v2 standard, if the ID is not specified, an empty response should be returned, whatever the state is (success or error). In the Vega implementation, this empty response corresponds to `204 No content`.","type":"string"}}></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

The request is successful. On this endpoint, only this type of response format should be expected.

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json-rpc"} value={"application/json-rpc"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"jsonrpc"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`2.0`]"} schema={{"type":"string","required":true,"enum":["2.0"]}}></SchemaItem><SchemaItem collapsible={false} name={"result"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>errors</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"data"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {},\n  \"errors\": {\n    \"code\": 0,\n    \"message\": \"string\",\n    \"data\": \"string\"\n  },\n  \"id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"204"} value={"204"}><div>

This response is returned when there is no `id` property valued in the JSON-RPC request. Concretely, when a JSON-RPC request doesn't have an ID, it is considered a JSON-RPC notification and, as such, no result is to be expected, even in case of failure.

</div><div></div></TabItem><TabItem label={"400"} value={"400"}><div>

Something went wrong

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json-rpc"} value={"application/json-rpc"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"jsonrpc"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`2.0`]"} schema={{"type":"string","required":true,"enum":["2.0"]}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>errors</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"data"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"jsonrpc\": \"2.0\",\n  \"errors\": {\n    \"code\": 0,\n    \"message\": \"string\",\n    \"data\": \"string\"\n  },\n  \"id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"401"} value={"401"}><div>

This error code is returned when the authentication failed.

</div><div></div></TabItem><TabItem label={"500"} value={"500"}><div>

Something failed internally. Nothing can be done about it on the client side. Reporting the issue to the wallet software developers is encouraged.

</div><div></div></TabItem></ApiTabs></div>
