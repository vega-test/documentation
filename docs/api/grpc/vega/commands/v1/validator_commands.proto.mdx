---
title: validator_commands.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

## `validator_commands.proto`
_**path** vega/commands/v1/validator_commands.proto_

_**package** vega.commands.v1_



---

## Messages


### `AnnounceNode`
<ProtoMessage key={0} message={{"name":"AnnounceNode","longName":"AnnounceNode","fullName":"vega.commands.v1.AnnounceNode","description":"Used to announce a node as a new pending validator","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"vega_pub_key","description":"Vega public key, required field.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ethereum_address","description":"Ethereum public key, required field.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"chain_pub_key","description":"Public key for the blockchain, required field.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"info_url","description":"URL with more info on the node.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"country","description":"Country code (ISO 3166-1 alpha-2) for the location of the node.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"id","description":"Node ID of the validator, i.e. the node's public master key.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"name","description":"Name of the validator.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"avatar_url","description":"AvatarURL of the validator.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"vega_pub_key_index","description":"Vega public key derivation index.","label":"","type":"uint32","longType":"uint32","fullType":"uint32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"from_epoch","description":"Epoch from which the validator is expected\nto be ready to validate blocks.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ethereum_signature","description":"Signature from the validator made using the ethereum wallet.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/testnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"vega_signature","description":"Signature from the validator made using the Vega wallet.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/testnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"submitter_address","description":"Ethereum public key to use as a submitter to allow automatic signature generation.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `ChainEvent`
<ProtoMessage key={1} message={{"name":"ChainEvent","longName":"ChainEvent","fullName":"vega.commands.v1.ChainEvent","description":"Event forwarded to the Vega network to provide information on events happening on other networks","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"tx_id","description":"Transaction ID of the transaction in which the events happened, usually a hash.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"nonce","description":"Arbitrary one-time integer used to prevent replay attacks.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"builtin","description":"Built-in asset event.","label":"","type":"BuiltinAssetEvent","longType":"vega.BuiltinAssetEvent","fullType":"vega.BuiltinAssetEvent","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/testnet/api/grpc/vega/chain_events.proto#builtinassetevent"},{"name":"erc20","description":"Ethereum ERC20 event.","label":"","type":"ERC20Event","longType":"vega.ERC20Event","fullType":"vega.ERC20Event","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/testnet/api/grpc/vega/chain_events.proto#erc20event"},{"name":"staking_event","description":"Ethereum Staking event.","label":"","type":"StakingEvent","longType":"vega.StakingEvent","fullType":"vega.StakingEvent","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/testnet/api/grpc/vega/chain_events.proto#stakingevent"},{"name":"erc20_multisig","description":"Ethereum ERC20 multisig event.","label":"","type":"ERC20MultiSigEvent","longType":"vega.ERC20MultiSigEvent","fullType":"vega.ERC20MultiSigEvent","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/testnet/api/grpc/vega/chain_events.proto#erc20multisigevent"}]}} />


### `EthereumKeyRotateSubmission`
<ProtoMessage key={2} message={{"name":"EthereumKeyRotateSubmission","longName":"EthereumKeyRotateSubmission","fullName":"vega.commands.v1.EthereumKeyRotateSubmission","description":"Transaction to allow a validator to rotate their ethereum keys","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"target_block","description":"Target block at which the key rotation will take effect on.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"new_address","description":"New address to rotate to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"current_address","description":"Currently used public address.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"submitter_address","description":"Ethereum public key to use as a submitter to allow automatic signature generation.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ethereum_signature","description":"Signature that can be verified using the new ethereum address.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/testnet/api/grpc/vega/commands/v1/signature.proto#signature"}]}} />


### `KeyRotateSubmission`
<ProtoMessage key={3} message={{"name":"KeyRotateSubmission","longName":"KeyRotateSubmission","fullName":"vega.commands.v1.KeyRotateSubmission","description":"Transaction to allow a validator to rotate their Vega keys","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"new_pub_key_index","description":"New Vega public key derivation index.","label":"","type":"uint32","longType":"uint32","fullType":"uint32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"target_block","description":"Target block at which the key rotation will take effect on.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"new_pub_key","description":"New public key to rotate to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"current_pub_key_hash","description":"Hash of currently used public key.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `NodeSignature`
<ProtoMessage key={4} message={{"name":"NodeSignature","longName":"NodeSignature","fullName":"vega.commands.v1.NodeSignature","description":"Represents a signature from a validator, to be used by a foreign chain in order to recognise a decision taken by the Vega network","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"id","description":"ID of the resource being signed.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"sig","description":"The signature generated by the signer.","label":"","type":"bytes","longType":"bytes","fullType":"bytes","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"kind","description":"Kind of resource being signed.","label":"","type":"NodeSignatureKind","longType":"NodeSignatureKind","fullType":"vega.commands.v1.NodeSignatureKind","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/testnet/api/grpc/vega/commands/v1/validator_commands.proto#nodesignaturekind"}]}} />


### `NodeVote`
<ProtoMessage key={5} message={{"name":"NodeVote","longName":"NodeVote","fullName":"vega.commands.v1.NodeVote","description":"Used when a node votes for validating that a given resource exists or is valid,\nfor example, an ERC20 deposit is valid and exists on ethereum.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"reference","description":"Reference identifying the resource making the vote, required field.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"type","description":"Type of NodeVote, also required.","label":"","type":"Type","longType":"NodeVote.Type","fullType":"vega.commands.v1.NodeVote.Type","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/testnet/api/grpc/vega/commands/v1/validator_commands.proto#nodevotetype"}]}} />


### `ProtocolUpgradeProposal`
<ProtoMessage key={6} message={{"name":"ProtocolUpgradeProposal","longName":"ProtocolUpgradeProposal","fullName":"vega.commands.v1.ProtocolUpgradeProposal","description":"Transaction for a validator to suggest a protocol upgrade","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"upgrade_block_height","description":"Block height at which to perform the upgrade.","label":"","type":"uint64","longType":"uint64","fullType":"uint64","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"vega_release_tag","description":"Release tag for the Vega binary.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `StateVariableProposal`
<ProtoMessage key={7} message={{"name":"StateVariableProposal","longName":"StateVariableProposal","fullName":"vega.commands.v1.StateVariableProposal","description":"Transaction for a validator to submit a floating point value","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"proposal","description":"State value proposal details.","label":"","type":"StateValueProposal","longType":"vega.StateValueProposal","fullType":"vega.StateValueProposal","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/testnet/api/grpc/vega/vega.proto#statevalueproposal"}]}} />


### `ValidatorHeartbeat`
<ProtoMessage key={8} message={{"name":"ValidatorHeartbeat","longName":"ValidatorHeartbeat","fullName":"vega.commands.v1.ValidatorHeartbeat","description":"Message from a validator signalling they are still online and validating blocks\nor ready to validate blocks when they are still a pending validator","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"node_id","description":"Node ID of the validator emitting the heartbeat.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"ethereum_signature","description":"Signature from the validator made using the ethereum wallet.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/testnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"vega_signature","description":"Signature from the validator made using the vega wallet.","label":"","type":"Signature","longType":"Signature","fullType":"vega.commands.v1.Signature","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/testnet/api/grpc/vega/commands/v1/signature.proto#signature"},{"name":"message","description":"Message which has been signed.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />

---
## Enums


### `NodeSignatureKind`
<ProtoEnum key={0} enumb={{"name":"NodeSignatureKind","longName":"NodeSignatureKind","fullName":"vega.commands.v1.NodeSignatureKind","description":"Kind of signature created by a node, for example, allow-listing a new asset, withdrawal etc","values":[{"name":"NODE_SIGNATURE_KIND_UNSPECIFIED","number":"0","description":"Represents an unspecified or missing value from the input"},{"name":"NODE_SIGNATURE_KIND_ASSET_NEW","number":"1","description":"Represents a signature for a new asset allow-listing"},{"name":"NODE_SIGNATURE_KIND_ASSET_WITHDRAWAL","number":"2","description":"Represents a signature for an asset withdrawal"},{"name":"NODE_SIGNATURE_KIND_ERC20_MULTISIG_SIGNER_ADDED","number":"3","description":"Represents a signature for a new signer added to the erc20 multisig contract"},{"name":"NODE_SIGNATURE_KIND_ERC20_MULTISIG_SIGNER_REMOVED","number":"4","description":"Represents a signature for a signer removed from the erc20 multisig contract"},{"name":"NODE_SIGNATURE_KIND_ASSET_UPDATE","number":"5","description":"Represents a signature for an asset update allow-listing"}]}} />


### `NodeVote.Type`
<ProtoEnum key={1} enumb={{"name":"Type","longName":"NodeVote.Type","fullName":"vega.commands.v1.NodeVote.Type","description":"","values":[{"name":"TYPE_UNSPECIFIED","number":"0","description":"Represents an unspecified or missing value from the input"},{"name":"TYPE_STAKE_DEPOSITED","number":"1","description":"Node vote for a new stake deposit"},{"name":"TYPE_STAKE_REMOVED","number":"2","description":"Node vote for a new stake removed event"},{"name":"TYPE_FUNDS_DEPOSITED","number":"3","description":"Node vote for a new collateral deposit"},{"name":"TYPE_SIGNER_ADDED","number":"4","description":"Node vote for a new signer added to the erc20 bridge"},{"name":"TYPE_SIGNER_REMOVED","number":"5","description":"Node vote for a signer removed from the erc20 bridge"},{"name":"TYPE_BRIDGE_STOPPED","number":"6","description":"Node vote for a bridge stopped event"},{"name":"TYPE_BRIDGE_RESUMED","number":"7","description":"Node vote for a bridge resumed event"},{"name":"TYPE_ASSET_LISTED","number":"8","description":"Node vote for a newly listed asset"},{"name":"TYPE_LIMITS_UPDATED","number":"9","description":"Node vote for an asset limits update"},{"name":"TYPE_STAKE_TOTAL_SUPPLY","number":"10","description":"Node vote to share the total supply of the staking token"},{"name":"TYPE_SIGNER_THRESHOLD_SET","number":"11","description":"Node vote to update the threshold of the signer set for the multisig contract"},{"name":"TYPE_GOVERNANCE_VALIDATE_ASSET","number":"12","description":"Node vote to validate a new assert governance proposal"}]}} />

---


  